<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Database Management &mdash; IGEM 0.1.2 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Reports" href="../filter/index.html" />
    <link rel="prev" title="GE Application" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            IGEM
              <img src="../../_static/logo.jpg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.1.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Install</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">GE Application</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Database Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#direct-access-to-ge-db-tables">Direct Access to GE.db Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#synchronization-with-the-hall-lab-db-server">Synchronization with the Hall Lab DB Server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../filter/index.html">Reports</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../server/index.html">Server Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../epc/index.html">EPC Application</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.hall-lab.org">Hall Lab Homepage</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/HallLab/igem">IGEM Github Repo</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">IGEM</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">GE Application</a></li>
      <li class="breadcrumb-item active">Database Management</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/ge/db/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="database-management">
<h1>Database Management<a class="headerlink" href="#database-management" title="Permalink to this heading"></a></h1>
<dl class="simple">
<dt>The Database Management within the GE module provides two main functions:</dt><dd><ul class="simple">
<li><p>Direct access to database tables for retrieving information</p></li>
<li><p>Synchronization of the IGEM Client DB with the latest data from the Hall Lab DB Server.</p></li>
</ul>
</dd>
</dl>
<section id="direct-access-to-ge-db-tables">
<h2>Direct Access to GE.db Tables<a class="headerlink" href="#direct-access-to-ge-db-tables" title="Permalink to this heading"></a></h2>
<p>Enables direct access to the database tables, allowing users to retrieve information directly from the IGEM Client DB.</p>
<p>This functionality provides a convenient way to query and analyze the data stored in the database tables.</p>
<p>By leveraging this function, users can efficiently retrieve specific information from the IGEM Client DB and utilize it for their research and analysis purposes.</p>
<dl class="simple">
<dt>The available tables are:</dt><dd><ul class="simple">
<li><p>datasource</p></li>
<li><p>connector</p></li>
<li><p>term_group</p></li>
<li><p>term_category</p></li>
<li><p>term</p></li>
<li><p>ds_column</p></li>
<li><p>prefix</p></li>
<li><p>wordterm</p></li>
<li><p>termmap</p></li>
<li><p>wordmap</p></li>
</ul>
</dd>
</dl>
<p>Python function</p>
<p><strong>get_data</strong></p>
<blockquote>
<div><p>The get_data() function allows extracting data from the GE database
and loading this data into a Pandas DataFrame structure or CSV File.</p>
<p>It has an intelligent filter mechanism that allow you to perform data
selections simply through a conversion layer of function arguments and SQL
syntax. This allows the same input arguments regardless of implemented
database management system.</p>
<p>Parameters:</p>
<p>Only the table parameter will be mandatory, the others being optional, and
will model the data output. In the case of only informing the table, the
function will return a DataFrame with all the columns and values of the
table.</p>
<ul class="simple">
<li><dl class="simple">
<dt>table: str</dt><dd><p>datasource, connector, ds_column, term_group, term_category, term,
prefix,  wordterm, termmap, wordmap</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>path: str</dt><dd><p>With this parameter, the function will save the selected data
in a file in the directory informed as the parameter argument. In this
scenario, data will not be returned in the form of a Dataframe; only a
Boolean value will be returned, informing whether the file was
generated or not</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>columns: list[“str”]</dt><dd><p>Columns that will be selected for output. They must be informed with
the same name as the database. It is possible to load other data from
other tables as long as it correlate. For example, suppose the table
only has the term field and not the category field. In that case, you
can inform as an argument: “term_id__term_category_id__category”, the
system selected the ID of the term, consulted the ID of the category
in the Term table, and went to the Category table to choose the
category</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>columns_out: list[“str”]</dt><dd><p>If you want to rename the header of the output fields to more familiar
names, you can use this parameter, passing the desired names in the
same sequential sequence in the parameter columns</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>datasource: Dict{“str”:list[”str”]}</dt><dd><p>Filter argument. It is used to filter datasource, with the dictionary
key being the selection argument and the dictionary value being the
datasources selected as the filter. Without this parameter, the
function will return all datasources</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>connector: Dict{“str”:list[”str”]}</dt><dd><p>Filter argument. It uses the same logic as the datasource, but applied
to the connector field</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>word: Dict{“str”:list[”str”]}</dt><dd><p>Filter argument. It uses the same logic as the datasource, but applied
to the word field</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>term: Dict{“str”:list[”str”]}</dt><dd><p>Filter argument. It uses the same logic as the datasource, but applied
to the term field</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>term_category: Dict{“str”:list[”str”]}</dt><dd><p>Filter argument. It uses the same logic as the datasource, but applied
to the term_categorty field</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>term_group: Dict{“str”:list[”str”]}</dt><dd><p>Filter argument. It uses the same logic as the datasource, but applied
to the term_group field</p>
</dd>
</dl>
</li>
</ul>
<p>Return:</p>
<p>Pandas Dataframe or Boolean (If the parameter path is informed, the
function will generate the file; if successful, it will return the
TRUE. Otherwise, it will return FALSE)</p>
<p>Examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">igem.ge</span> <span class="kn">import</span> <span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span>
<span class="go">      table=”datasource”,</span>
<span class="go">      datasource={“datasource__in”: [“ds_01”,”ds_02”]},</span>
<span class="go">      columns=[“id”,”datasource”],</span>
<span class="go">      columns_out=[“Datasource ID”, “Datasource Name”],</span>
<span class="go">      path=”{your_path}/datasource.csv”</span>
<span class="go">      )</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span>
<span class="go">      table=&quot;connector&quot;,</span>
<span class="go">      connector={&quot;connector__start&quot;: [&quot;conn_ds&quot;]},</span>
<span class="go">      datasource={&quot;datasource_id__datasource__in&quot;: [&quot;ds_01&quot;]},</span>
<span class="go">      columns=[&quot;connector&quot;, &quot;status&quot;]</span>
<span class="go">      )</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span>
<span class="go">      table=&quot;termmap&quot;,</span>
<span class="go">      term={&quot;term_id__term&quot;: &quot;chem:c112297&quot;},</span>
<span class="go">      path=&quot;{your_path},</span>
<span class="go">      )</span>
<span class="go">   If x:</span>
<span class="go">      print(&quot;file created&quot;)</span>
</pre></div>
</div>
</div></blockquote>
<p>Command Line</p>
<p>Within the parameters, inform the same ones used for the functions, as well as the arguments, example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ $ python manage.py db --get_data &#39;table=&quot;datasource&quot;, datasource={“datasource__in”: [“ds_01”,”ds_02”]}&#39;
</pre></div>
</div>
<p>Get data:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python manage.py db --get_data {parameters}
</pre></div>
</div>
</section>
<section id="synchronization-with-the-hall-lab-db-server">
<h2>Synchronization with the Hall Lab DB Server<a class="headerlink" href="#synchronization-with-the-hall-lab-db-server" title="Permalink to this heading"></a></h2>
<p>The second function of the Database Management is to synchronize the IGEM Client DB with the latest data from the Hall Lab DB Server.</p>
<p>This synchronization process ensures that the IGEM Client DB is up to date with the most recent information available.</p>
<p>The function offers both offline and online synchronization options.</p>
<dl>
<dt>Offline Sync:</dt><dd><p>In the offline synchronization mode, users manually acquire the necessary DB files from a designated source. They can obtain the latest versions of the DB files from an authorized repository and update the IGEM Client DB accordingly. This mode is suitable for situations where internet connectivity is limited or when users prefer to have full control over the synchronization process.
Examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">igem.ge</span> <span class="kn">import</span> <span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">sync_db</span><span class="p">(</span><span class="n">table</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{your_path}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Online Sync:</dt><dd><p>The online synchronization mode automates the process of fetching the latest data from the web repository. The submodule accesses the web repository and retrieves the most recent versions of the DB files, ensuring that the IGEM Client DB is synchronized with the Hall Lab DB Server. This mode is ideal for users who prefer a seamless and automated synchronization process, without the need for manual intervention.
Examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">igem.ge</span> <span class="kn">import</span> <span class="n">db</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">sync_db</span><span class="p">(</span><span class="n">table</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<p>The GE.db submodule provides researchers with a comprehensive set of tools to access and synchronize the IGEM Client DB. Whether it’s directly querying database tables or ensuring up-to-date information through synchronization, this submodule facilitates efficient data management and enhances the research capabilities of users.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="GE Application" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../filter/index.html" class="btn btn-neutral float-right" title="Reports" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Hall Lab.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>